(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{381:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},17576:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},34964:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>i});var a=t(95155),n=t(12115),l=t(60704),r=t(53999);let i=l.bL,d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(l.B8,{ref:s,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n})});d.displayName=l.B8.displayName;let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(l.l9,{ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...n})});c.displayName=l.l9.displayName;let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)(l.UC,{ref:s,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n})});o.displayName=l.UC.displayName},35695:(e,s,t)=>{"use strict";var a=t(18999);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},36894:(e,s,t)=>{"use strict";t.d(s,{V:()=>c});var a=t(95155);t(12115);var n=t(42355),l=t(13052),r=t(29802),i=t(53999),d=t(97168);function c(e){let{className:s,classNames:t,showOutsideDays:c=!0,...o}=e;return(0,a.jsx)(r.hv,{showOutsideDays:c,className:(0,i.cn)("p-3",s),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,d.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,d.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:e=>{let{...s}=e;return(0,a.jsx)(n.A,{className:"h-4 w-4"})},IconRight:e=>{let{...s}=e;return(0,a.jsx)(l.A,{className:"h-4 w-4"})}},...o})}c.displayName="Calendar"},60823:(e,s,t)=>{"use strict";t.d(s,{AM:()=>i,Wv:()=>d,hl:()=>c});var a=t(95155),n=t(12115),l=t(20547),r=t(53999);let i=l.bL,d=l.l9,c=n.forwardRef((e,s)=>{let{className:t,align:n="center",sideOffset:i=4,...d}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:s,align:n,sideOffset:i,className:(0,r.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...d})})});c.displayName=l.UC.displayName},67109:(e,s,t)=>{Promise.resolve().then(t.bind(t,72365))},71007:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},72365:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ex});var a=t(95155),n=t(12115),l=t(35695),r=t(13717),i=t(62525),d=t(17580),c=t(14186),o=t(69074),m=t(43453),u=t(85339),x=t(19946);let h=(0,x.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var p=t(381),f=t(58739),j=t(81191),y=t(59205),g=t(72713),v=t(17576),N=t(93509),b=t(62098),w=t(71007),k=t(34835),D=t(13052);let A=(0,x.A)("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),C=(0,x.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var S=t(51154),T=t(97168),M=t(88482),P=t(34964),L=t(89852),E=t(99474),O=t(82714),R=t(88145),I=t(69663),U=t(60823),_=t(36894),z=t(63008),F=t(98794),G=t(98449),H=t(46081),$=t(63655),Z="Progress",[B,J]=(0,H.A)(Z),[W,V]=B(Z),q=n.forwardRef((e,s)=>{var t,n,l,r;let{__scopeProgress:i,value:d=null,max:c,getValueLabel:o=X,...m}=e;(c||0===c)&&!es(c)&&console.error((t="".concat(c),n="Progress","Invalid prop `max` of value `".concat(t,"` supplied to `").concat(n,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let u=es(c)?c:100;null===d||et(d,u)||console.error((l="".concat(d),r="Progress","Invalid prop `value` of value `".concat(l,"` supplied to `").concat(r,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let x=et(d,u)?d:null,h=ee(x)?o(x,u):void 0;return(0,a.jsx)(W,{scope:i,value:x,max:u,children:(0,a.jsx)($.sG.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":ee(x)?x:void 0,"aria-valuetext":h,role:"progressbar","data-state":Y(x,u),"data-value":null!=x?x:void 0,"data-max":u,...m,ref:s})})});q.displayName=Z;var K="ProgressIndicator",Q=n.forwardRef((e,s)=>{var t;let{__scopeProgress:n,...l}=e,r=V(K,n);return(0,a.jsx)($.sG.div,{"data-state":Y(r.value,r.max),"data-value":null!==(t=r.value)&&void 0!==t?t:void 0,"data-max":r.max,...l,ref:s})});function X(e,s){return"".concat(Math.round(e/s*100),"%")}function Y(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function ee(e){return"number"==typeof e}function es(e){return ee(e)&&!isNaN(e)&&e>0}function et(e,s){return ee(e)&&!isNaN(e)&&e<=s&&e>=0}Q.displayName=K;var ea=t(53999);let en=n.forwardRef((e,s)=>{let{className:t,value:n,...l}=e;return(0,a.jsx)(q,{ref:s,className:(0,ea.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...l,children:(0,a.jsx)(Q,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});en.displayName=q.displayName;var el=t(99840),er=t(16559),ei=t(67133);let ed=e=>{let{task:s,calculateDaysDifference:t,getStatusColor:n,getPriorityBadge:l,onEdit:x,onDelete:h,onComplete:p}=e;return(0,a.jsxs)(M.Zp,{className:"bg-card/50 backdrop-blur-sm flex flex-col",children:[" ",(0,a.jsx)(M.aR,{className:"p-4 pb-2 flex-shrink-0",children:(0,a.jsxs)(M.ZB,{className:"text-lg flex items-center justify-between",children:[(0,a.jsx)("span",{className:"truncate mr-2",children:s.title}),(0,a.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[l(s.priority),(0,a.jsx)(T.$,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:x,children:(0,a.jsx)(r.A,{className:"h-4 w-4"})}),(0,a.jsx)(T.$,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:h,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})]})]})}),(0,a.jsxs)(M.Wu,{className:"p-4 pt-2 text-sm text-muted-foreground flex-grow overflow-auto",children:[" ",(0,a.jsx)("p",{className:"line-clamp-3",children:s.description}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between mt-3 text-xs gap-2",children:[" ",(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(d.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:s.assignedTo||"Unassigned"}),s.assignedToSecond&&(0,a.jsxs)("span",{className:"ml-1",children:["(",s.assignedToSecond,")"]})]}),s.lastUpdated&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.A,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["Last Updated: ",(0,z.GP)((0,F.H)(s.lastUpdated),"MMM d, yy")]})]})]})]}),(0,a.jsxs)(M.wL,{className:"p-4 pt-0 flex flex-wrap justify-between items-center text-sm gap-2 mt-auto",children:[" ",(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[" ",(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-1"}),s.dueDate?(0,z.GP)(new Date(s.dueDate),"MMM d,yyyy"):"No due date"]}),s.completionDate&&(0,a.jsxs)(R.E,{variant:"outline",className:"text-xs flex-shrink-0",children:[" ",t(s.dueDate,s.completionDate)]})]}),(0,a.jsxs)("div",{className:(0,ea.cn)("flex items-center px-2 py-1 rounded-full text-white text-xs flex-shrink-0",n(s.status)),children:["completed"===s.status?(0,a.jsx)(m.A,{className:"h-3 w-3 mr-1"}):"in-progress"===s.status?(0,a.jsx)(c.A,{className:"h-3 w-3 mr-1"}):(0,a.jsx)(u.A,{className:"h-3 w-3 mr-1"}),"completed"===s.status?"Completed":"in-progress"===s.status?"In Progress":"Not Started"]}),"completed"!==s.status&&(0,a.jsxs)(T.$,{variant:"outline",size:"sm",onClick:p,className:"flex-shrink-0",children:[" ","Mark Complete"]})]})]})},ec=e=>{let{tabKey:s,addTask:t}=e,[l,r]=(0,n.useState)(""),[i,d]=(0,n.useState)(""),[c,m]=(0,n.useState)(null),[u,x]=(0,n.useState)("medium"),[p,f]=(0,n.useState)(""),[j,y]=(0,n.useState)(""),[g,v]=(0,n.useState)("");return(0,a.jsx)(M.Zp,{className:"p-4",id:"new-task-form",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l&&c&&(t(s,{title:l,description:i,dueDate:c.toISOString().split("T")[0],lastUpdated:new Date().toISOString().split("T")[0],status:"not-started",priority:u,assignedTo:p,assignedToSecond:j,notes:g}),r(""),d(""),m(null),x("medium"),f(""),y(""),v(""))},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"title",children:"Title"}),(0,a.jsx)(L.p,{id:"title",value:l,onChange:e=>r(e.target.value),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"dueDate",children:"Due Date"}),(0,a.jsxs)(U.AM,{children:[(0,a.jsx)(U.Wv,{asChild:!0,children:(0,a.jsxs)(T.$,{variant:"outline",className:(0,ea.cn)("w-full justify-start text-left font-normal",!c&&"text-muted-foreground"),children:[(0,a.jsx)(o.A,{className:"mr-2 h-4 w-4"}),c?(0,z.GP)(c,"PPP"):(0,a.jsx)("span",{children:"Pick a date"})]})}),(0,a.jsx)(U.hl,{className:"w-auto p-0",children:(0,a.jsx)(_.V,{mode:"single",selected:c,onSelect:m,initialFocus:!0})})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"description",children:"Description"}),(0,a.jsx)(E.T,{id:"description",value:i,onChange:e=>d(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"priority",children:"Priority"}),(0,a.jsxs)("select",{id:"priority",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:u,onChange:e=>x(e.target.value),children:[(0,a.jsx)("option",{value:"low",children:"Low"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"high",children:"High"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"assignedTo",children:"Assigned To (Primary)"}),(0,a.jsx)(L.p,{id:"assignedTo",value:p,onChange:e=>f(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"assignedToSecond",children:"Assigned To (Secondary)"}),(0,a.jsx)(L.p,{id:"assignedToSecond",value:j,onChange:e=>y(e.target.value)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"notes",children:"Notes"}),(0,a.jsx)(E.T,{id:"notes",value:g,onChange:e=>v(e.target.value)})]}),(0,a.jsxs)(T.$,{type:"submit",children:[(0,a.jsx)(h,{className:"h-4 w-4 mr-2"}),"Add Task"]})]})})},eo=e=>{let{task:s,onSave:t,onCancel:l}=e,[r,i]=(0,n.useState)(s);(0,n.useEffect)(()=>{i(s)},[s]);let d=e=>{let{id:s,value:t}=e.target;i(e=>({...e,[s]:t}))};return r?(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(r)},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"title",children:"Title"}),(0,a.jsx)(L.p,{id:"title",value:r.title,onChange:d,required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"description",children:"Description"}),(0,a.jsx)(E.T,{id:"description",value:r.description,onChange:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"dueDate",children:"Due Date"}),(0,a.jsxs)(U.AM,{children:[(0,a.jsx)(U.Wv,{asChild:!0,children:(0,a.jsxs)(T.$,{variant:"outline",className:(0,ea.cn)("w-full justify-start text-left font-normal",!r.dueDate&&"text-muted-foreground"),children:[(0,a.jsx)(o.A,{className:"mr-2 h-4 w-4"}),r.dueDate?(0,z.GP)(new Date(r.dueDate),"PPP"):(0,a.jsx)("span",{children:"Pick a date"})]})}),(0,a.jsx)(U.hl,{className:"w-auto p-0",children:(0,a.jsx)(_.V,{mode:"single",selected:r.dueDate?new Date(r.dueDate):null,onSelect:e=>{i(s=>({...s,dueDate:e}))},initialFocus:!0})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"priority",children:"Priority"}),(0,a.jsxs)("select",{id:"priority",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:r.priority,onChange:d,children:[(0,a.jsx)("option",{value:"low",children:"Low"}),(0,a.jsx)("option",{value:"medium",children:"Medium"}),(0,a.jsx)("option",{value:"high",children:"High"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"status",children:"Status"}),(0,a.jsxs)("select",{id:"status",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:r.status,onChange:d,children:[(0,a.jsx)("option",{value:"not-started",children:"Not Started"}),(0,a.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,a.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"assignedTo",children:"Assigned To (Primary)"}),(0,a.jsx)(L.p,{id:"assignedTo",value:r.assignedTo,onChange:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"assignedToSecond",children:"Assigned To (Secondary)"}),(0,a.jsx)(L.p,{id:"assignedToSecond",value:r.assignedToSecond,onChange:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O.J,{htmlFor:"notes",children:"Notes"}),(0,a.jsx)(E.T,{id:"notes",value:r.notes,onChange:d})]}),(0,a.jsxs)(el.Es,{children:[(0,a.jsx)(T.$,{variant:"outline",onClick:l,children:"Cancel"}),(0,a.jsx)(T.$,{type:"submit",children:"Save Changes"})]})]}):null},em=e=>{let{leaves:s,updateLeaveStatus:t,getStatusColor:n,openStatusDialog:l}=e;return(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full bg-background rounded-md overflow-hidden",children:[(0,a.jsx)("thead",{className:"bg-muted/50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-muted-foreground",children:"Name"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-muted-foreground",children:"Leave Type"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-muted-foreground",children:"Start Date"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-muted-foreground",children:"End Date"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-muted-foreground",children:"Days"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-muted-foreground",children:"Date Applied"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-muted-foreground",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-muted-foreground",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:s.length>0?s.map(e=>(0,a.jsxs)("tr",{className:"border-b last:border-b-0 hover:bg-muted/20",children:[(0,a.jsxs)("td",{className:"px-4 py-3 text-sm",children:[e.name," ",e.surname]}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:e.leaveType}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:e.startDate?(0,z.GP)((0,F.H)(e.startDate),"MMM d,yyyy"):"N/A"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:e.endDate?(0,z.GP)((0,F.H)(e.endDate),"MMM d,yyyy"):"N/A"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:e.daysOfLeave}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:e.dateApplied?(0,z.GP)((0,F.H)(e.dateApplied),"MMM d,yyyy"):"N/A"}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,a.jsx)(R.E,{className:(0,ea.cn)("text-xs capitalize",n(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)(ei.rI,{children:[(0,a.jsx)(ei.ty,{asChild:!0,children:(0,a.jsx)(T.$,{variant:"outline",size:"sm",children:"Change Status"})}),(0,a.jsxs)(ei.SQ,{align:"end",children:[(0,a.jsx)(ei._2,{onClick:()=>l(e,"approved"),children:"Approve"}),(0,a.jsx)(ei._2,{onClick:()=>l(e,"denied"),children:"Deny"}),(0,a.jsx)(ei._2,{onClick:()=>l(e,"pending"),children:"Set to Pending"})]})]})})]},e.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"8",className:"text-center py-8 text-muted-foreground",children:"No leave requests found."})})})]})})},eu=e=>{let{isOpen:s,onOpenChange:t,leave:n,newStatus:l,onConfirm:r}=e;return n?(0,a.jsx)(er.Lt,{open:s,onOpenChange:t,children:(0,a.jsxs)(er.EO,{children:[(0,a.jsxs)(er.wd,{children:[(0,a.jsx)(er.r7,{children:"Change Leave Status"}),(0,a.jsxs)(er.$v,{children:["Are you sure you want to change the status of ",n.name," ",n.surname,"'s leave to \"",(0,a.jsx)("span",{className:"font-bold capitalize",children:l}),'"?']})]}),(0,a.jsxs)(er.ck,{children:[(0,a.jsx)(er.Zr,{children:"Cancel"}),(0,a.jsx)(er.Rx,{onClick:r,children:"Confirm"})]})]})}):null};function ex(){let e=(0,l.useRouter)(),[s,t]=(0,n.useState)("light"),[r,i]=(0,n.useState)("accounts"),[o,x]=(0,n.useState)(!0),[L,E]=(0,n.useState)({admin:[],accounts:[],tasks:[],compliance:[],payments:[],results:[],hr:[]}),[O,U]=(0,n.useState)(null),[_,H]=(0,n.useState)(!1),[$,Z]=(0,n.useState)(null),[B,J]=(0,n.useState)(!1),[W,V]=(0,n.useState)(!1),[q,K]=(0,n.useState)(!0),[Q,X]=(0,n.useState)(!1),[Y,ee]=(0,n.useState)(null),[es,et]=(0,n.useState)("");(0,n.useEffect)(()=>{let s=async()=>{try{window.Parse?window.Parse.User.current()||e.push("/login"):console.log("Parse SDK not yet loaded.")}catch(s){console.error("Error checking Parse session:",s),e.push("/login")}};(()=>{let e=document.createElement("script");e.src="https://unpkg.com/parse/dist/parse.min.js",e.onload=()=>{window.Parse.applicationId||(window.Parse.initialize("QGvrhwxOhWwRe1ljUk4uyWj7UA7xjxEDwP1vhdsw","jh0aKxm3H9f62YisAgvLDI1cpF7DfIySlXgwGjcS"),window.Parse.serverURL="https://parseapi.back4app.com/"),s()},document.body.appendChild(e);let t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js",document.body.appendChild(t);let a=document.createElement("script");a.src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js",document.body.appendChild(a)})(),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(t("dark"),document.documentElement.classList.add("dark"));let a=()=>{window.innerWidth<768&&x(!1)};return a(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[]);let ex=async()=>{try{window.Parse&&(await window.Parse.User.logOut(),localStorage.removeItem("inventureLoggedIn"),e.push("/login"))}catch(e){console.error("Error during Parse logout:",e)}};(0,n.useEffect)(()=>{(async()=>{K(!0);try{let e=await fetch("/api/proxy");if(!e.ok){let s=await e.text();console.error("Error response from proxy:",s);return}let s=await e.json(),t=Object.keys(s).reduce((e,t)=>(Array.isArray(s[t])?e[t]=s[t].map(e=>e.leaveType||e.dateApplied||e.daysOfLeave?{id:e.id||e.objectId||Date.now(),sourceTab:t,name:e.name||"",surname:e.surname||"",leaveType:e.leaveType||"",daysOfLeave:e.daysOfLeave||0,startDate:e.startDate||null,endDate:e.endDate||null,dateApplied:e.dateApplied||null,status:e.status||"pending",creatorId:e.creatorId||"",...e}:{id:e.id||e.objectId||Date.now(),sourceTab:t,title:e.title||"",description:e.description||"",dueDate:e.dueDate||null,lastUpdated:e.lastUpdated||"",completionDate:e.completionDate||null,status:e.status||"not-started",priority:e.priority||"medium",assignedTo:e["assigned to"]||e.assignedTo||"",assignedToSecond:e["Secondary Assignee"]||e.assignedToSecond||"",notes:e["Short term"]||e["Long term"]||e.notes||"",...e}):e[t]=[],e),{});E(t)}catch(e){console.error("Error fetching data from proxy:",e)}finally{K(!1)}})()},[]);let eh=(e,s)=>{let t={...s,id:Date.now(),sourceTab:e},a={...L};a[e]=[...L[e]||[],t],E(a),eA(e,t,"add")},ep=(e,s)=>{let t={...L};t[e]=L[e].map(e=>e.id===s.id?s:e),E(t),eA(e,s,"update"),H(!1),U(null)},ef=(e,s)=>{let t={...L};t[e]=L[e].filter(e=>e.id!==s),E(t),eA(e,{id:s},"delete"),J(!1),Z(null)},ej=(e,s)=>{let t={...L};t[e]=L[e].map(e=>e.id===s?{...e,status:"completed",completionDate:new Date().toISOString().split("T")[0]}:e),E(t);let a=t[e].find(e=>e.id===s);a&&eA(e,a,"update")},ey=(e,s)=>{let t={...L},a=L.hr.map(t=>t.id===e?{...t,status:s}:t);t.hr=a,E(t);let n=a.find(s=>s.id===e);n&&eA("hr",n,"update")},eg=(e,s)=>{ee(e),et(s),X(!0)},ev=(e,s)=>{if(!e||!s)return"N/A";let t=(0,G.c)(new Date(s),new Date(e));return t>0?"".concat(t," days overdue"):t<0?"".concat(Math.abs(t)," days early"):"On time"},eN=e=>{switch(e.toLowerCase()){case"completed":case"approved":return"bg-green-500";case"in-progress":case"pending":return"bg-blue-500";case"not-started":case"denied":return"bg-red-500";default:return"bg-gray-500"}},eb=e=>{switch(e){case"high":return(0,a.jsx)(R.E,{variant:"destructive",className:"ml-2",children:"High"});case"medium":return(0,a.jsx)(R.E,{variant:"default",className:"ml-2",children:"Medium"});case"low":return(0,a.jsx)(R.E,{variant:"outline",className:"ml-2",children:"Low"});default:return null}},ew=e=>e&&0!==e.length?Math.round(e.filter(e=>"completed"===e.status||"approved"===e.status).length/e.length*100):0,ek=e=>{switch(e){case"admin":return(0,a.jsx)(p.A,{className:"h-5 w-5"});case"accounts":return(0,a.jsx)(d.A,{className:"h-5 w-5"});case"tasks":return(0,a.jsx)(f.A,{className:"h-5 w-5"});case"compliance":return(0,a.jsx)(j.A,{className:"h-5 w-5"});case"payments":return(0,a.jsx)(y.A,{className:"h-5 w-5"});case"results":return(0,a.jsx)(g.A,{className:"h-5 w-5"});case"hr":return(0,a.jsx)(v.A,{className:"h-5 w-5"});default:return null}},eD=()=>{let e=0,s=0,t=0,a=0,n=[...L.results||[],...L.admin||[]];return["accounts","tasks","compliance","payments"].forEach(n=>{L[n]&&L[n].forEach(n=>{if(e++,"completed"===n.status)s++;else{let e=new Date(n.dueDate),s=new Date;e&&e<s?t++:a++}})}),n.forEach(n=>{if(e++,"completed"===n.status)s++;else{let e=new Date(n.dueDate),s=new Date;e&&e<s?t++:a++}}),{totalTasks:e,completedTasks:s,overdueTasks:t,upcomingTasks:a,completionRate:e>0?Math.round(s/e*100):0}},eA=async(e,s,t)=>{try{let a={};"hr"===e?a={id:s.id,name:s.name,surname:s.surname,leaveType:s.leaveType,daysOfLeave:s.daysOfLeave,startDate:s.startDate,endDate:s.endDate,dateApplied:s.dateApplied,status:s.status,creatorId:s.creatorId}:(a={id:s.id,title:s.title||"",description:s.description||"",dueDate:s.dueDate||null,lastUpdated:s.lastUpdated||"",completionDate:s.completionDate||null,status:s.status||"medium",priority:s.priority||"not-started","assigned to":s.assignedTo||"","Secondary Assignee":s.assignedToSecond||"","Short term":s.notes||""},delete a.assignedTo,delete a.assignedToSecond,delete a.notes);let n=await fetch("/api/proxy?tab=".concat(e,"&action=").concat(t),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}),l=await n.text();console.log("".concat(t.toUpperCase()," SUCCESS for tab ").concat(e,":"),l)}catch(s){console.error("".concat(t.toUpperCase()," ERROR for tab ").concat(e,":"),s)}},eC=e=>{E(s=>{let t;return("results"===e?[...s.results||[],...s.admin||[]]:[...s[e]||[]]).sort((e,s)=>{let t=new Date(e.dueDate?e.dueDate:864e13),a=new Date(s.dueDate?s.dueDate:864e13);return t.getTime()-a.getTime()}),s})},eS=(e,s)=>{if(window.jsPDF&&window.jsPDF.A4){let t=new window.jsPDF;t.text("".concat(s," Report"),14,15);let a=[],n=[],l=[];l="results"===e?[...L.results||[],...L.admin||[]]:L[e],"hr"===e?(a=["Name","Leave Type","Start Date","End Date","Days","Date Applied","Status"],n=l.map(e=>["".concat(e.name," ").concat(e.surname),e.leaveType,e.startDate?(0,z.GP)((0,F.H)(e.startDate),"MMM d,yyyy"):"N/A",e.endDate?(0,z.GP)((0,F.H)(e.endDate),"MMM d,yyyy"):"N/A",e.daysOfLeave,e.dateApplied?(0,z.GP)((0,F.H)(e.dateApplied),"MMM d,yyyy"):"N/A",e.status])):(a=["Title","Due Date","Status","Priority","Assigned To"],n=l.map(e=>[e.title,e.dueDate?(0,z.GP)(new Date(e.dueDate),"MMM d,yyyy"):"N/A",e.status,e.priority,e.assignedTo||"Unassigned"])),"function"==typeof t.autoTable?(t.autoTable({head:[a],body:n,startY:20,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[50,50,50],textColor:[255,255,255]},margin:{top:10}}),t.save("".concat(s,"_Report.pdf"))):console.error("jsPDF AutoTable plugin not loaded.")}else console.error("jsPDF not loaded or not properly initialized.")},eT=(e,s)=>{let t=[],a=[],n=[];n="results"===e?[...L.results||[],...L.admin||[]]:L[e],"hr"===e?(t=["Name","Surname","Leave Type","Days Of Leave","Start Date","End Date","Date Applied","Status","Creator ID"],a=n.map(e=>[e.name,e.surname,e.leaveType,e.daysOfLeave,e.startDate?(0,z.GP)((0,F.H)(e.startDate),"yyyy-MM-dd"):"N/A",e.endDate?(0,z.GP)((0,F.H)(e.endDate),"yyyy-MM-dd"):"N/A",e.dateApplied?(0,z.GP)((0,F.H)(e.dateApplied),"yyyy-MM-dd"):"N/A",e.status,e.creatorId])):(t=["Title","Description","Due Date","Last Updated","Completion Date","Status","Priority","Assigned To","Secondary Assignee","Notes"],a=n.map(e=>[e.title,e.description,e.dueDate?(0,z.GP)(new Date(e.dueDate),"yyyy-MM-dd"):"N/A",e.lastUpdated?(0,z.GP)((0,F.H)(e.lastUpdated),"yyyy-MM-dd"):"N/A",e.completionDate?(0,z.GP)((0,F.H)(e.completionDate),"yyyy-MM-dd"):"N/A",e.status,e.priority,e.assignedTo||"Unassigned",e.assignedToSecond||"",e.notes||""]));let l=t.map(e=>'"'.concat(e,'"')).join(",")+"\n";a.forEach(e=>{l+=e.map(e=>'"'.concat(e,'"')).join(",")+"\n"});let r=new Blob([l],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");if(void 0!==i.download){let e=URL.createObjectURL(r);i.setAttribute("href",e),i.setAttribute("download","".concat(s,"_Report.csv")),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background to-background/95",children:[(0,a.jsxs)("header",{className:"sticky top-0 z-20 backdrop-blur-md bg-background/80 border-b p-3 md:p-4 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(T.$,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>x(!o),children:(0,a.jsx)(p.A,{className:"h-5 w-5"})}),(0,a.jsx)("img",{src:"/Inventurelogo1.png",alt:"Inventure Logo",className:"h-8 w-auto"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(T.$,{variant:"ghost",size:"icon",onClick:()=>{t("light"===s?"dark":"light"),document.documentElement.classList.toggle("dark")},children:"light"===s?(0,a.jsx)(N.A,{className:"h-5 w-5"}):(0,a.jsx)(b.A,{className:"h-5 w-5"})}),(0,a.jsxs)(ei.rI,{children:[(0,a.jsx)(ei.ty,{asChild:!0,children:(0,a.jsxs)(I.eu,{className:"cursor-pointer",children:[(0,a.jsx)(I.BK,{src:"/placeholder.svg?height=40&width=40"}),(0,a.jsxs)(I.q5,{className:"flex items-center justify-center",children:[" ",(0,a.jsx)(w.A,{className:"h-5 w-5"})," "," "]})]})}),(0,a.jsxs)(ei.SQ,{align:"end",children:[(0,a.jsx)(ei.lp,{children:"My Account"}),(0,a.jsx)(ei.mB,{}),(0,a.jsx)(ei._2,{onClick:()=>e.push("/profile"),children:"Profile"}),(0,a.jsx)(ei._2,{onClick:()=>e.push("/admin/settings"),children:"Settings"}),(0,a.jsx)(ei.mB,{}),(0,a.jsxs)(ei._2,{onClick:ex,className:"text-destructive",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,a.jsxs)("aside",{className:(0,ea.cn)("min-h-screen h-full bg-muted/30 backdrop-blur-sm border-r transition-all duration-300 overflow-y-auto sticky top-0 left-0 z-10",o?"w-96":"w-20"),children:[(0,a.jsxs)("div",{className:"sticky top-0 z-10 p-3 md:p-4 flex items-center justify-between bg-muted/50 backdrop-blur-sm",children:[(0,a.jsx)("h2",{className:(0,ea.cn)("font-semibold transition-opacity",o?"opacity-100":"opacity-0"),children:"Progress bar Tracker"}),(0,a.jsx)(T.$,{variant:"ghost",size:"icon",onClick:()=>x(!o),className:"rounded-full",children:(0,a.jsx)(D.A,{className:(0,ea.cn)("h-5 w-5 transition-transform",o?"rotate-180":"rotate-0")})})]}),(0,a.jsx)("div",{className:"px-3 py-2 pb-20",children:o?(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium px-2",children:"Overview"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"px-2 py-1.5",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Accounting"}),(0,a.jsxs)("span",{children:[ew(L.accounts),"%"]})]}),(0,a.jsx)(en,{value:ew(L.accounts),className:"h-1.5 mt-1"})]}),(0,a.jsxs)("div",{className:"px-2 py-1.5",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Office Management"}),(0,a.jsxs)("span",{children:[ew(L.tasks),"%"]})]}),(0,a.jsx)(en,{value:ew(L.tasks),className:"h-1.5 mt-1"})]}),(0,a.jsxs)("div",{className:"px-2 py-1.5",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Compliance"}),(0,a.jsxs)("span",{children:[ew(L.compliance),"%"]})]}),(0,a.jsx)(en,{value:ew(L.compliance),className:"h-1.5 mt-1"})]}),(0,a.jsxs)("div",{className:"px-2 py-1.5",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"InventurePay"}),(0,a.jsxs)("span",{children:[ew(L.payments),"%"]})]}),(0,a.jsx)(en,{value:ew(L.payments),className:"h-1.5 mt-1"})]}),(0,a.jsxs)("div",{className:"px-2 py-1.5",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"Administrative tasks"}),(0,a.jsxs)("span",{children:[ew([...L.results||[],...L.admin||[]]),"%"]})]}),(0,a.jsx)(en,{value:ew([...L.results||[],...L.admin||[]]),className:"h-1.5 mt-1"})]}),(0,a.jsxs)("div",{className:"px-2 py-1.5",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:"HR (Leaves)"}),(0,a.jsxs)("span",{children:[ew(L.hr),"%"]})]}),(0,a.jsx)(en,{value:ew(L.hr),className:"h-1.5 mt-1"})]})]})]})}):(0,a.jsx)("div",{className:"flex flex-col items-center space-y-6 mt-4",children:["accounts","tasks","compliance","payments","results","hr"].map(e=>{let s=ek(e),t="results"===e?ew([...L.results||[],...L.admin||[]]):ew(L[e]);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(T.$,{variant:"ghost",size:"icon",className:"rounded-full h-10 w-10",onClick:()=>i(e),children:s}),(0,a.jsx)("svg",{className:"absolute -top-1 -right-1 w-12 h-12",children:(0,a.jsx)("circle",{cx:"20",cy:"20",r:"8",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeDasharray:"".concat(.5*t," 100"),className:"text-primary",transform:"rotate(-90 20 20)"})})]},e)})})})]}),(0,a.jsx)("main",{className:"flex-1 w-full min-h-screen",children:(0,a.jsxs)(P.tU,{defaultValue:"accounts",value:r,onValueChange:i,className:"w-full",children:[(0,a.jsx)("div",{className:"border-b bg-muted/20 backdrop-blur-sm",children:(0,a.jsx)(P.j7,{className:"mx-2 md:mx-4 my-1 overflow-x-auto flex flex-nowrap",children:[{key:"accounts",name:"Accounting"},{key:"tasks",name:"Office Management"},{key:"compliance",name:"Compliance"},{key:"payments",name:"InventurePay"},{key:"results",name:"Administrative tasks"},{key:"hr",name:"HR"}].map(e=>(0,a.jsx)(P.Xi,{value:e.key,className:"data-[state=active]:bg-background data-[state=active]:shadow-sm",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[ek(e.key),e.name]})},e.key))})}),[{key:"accounts",name:"Accounting"},{key:"tasks",name:"Office Management"},{key:"compliance",name:"Compliance"},{key:"payments",name:"InventurePay"},{key:"results",name:"Administrative tasks"},{key:"hr",name:"HR"}].map(e=>{let s=e.key,t=e.name,n="results"===s?[...L.results||[],...L.admin||[]]:L[s];return(0,a.jsxs)(P.av,{value:s,className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:t}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:[(null==n?void 0:n.length)||0," ","hr"===s?"leaves":"tasks"," • ",ew(n),"% complete"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["hr"!==s&&(0,a.jsxs)(T.$,{variant:"outline",size:"sm",onClick:()=>eC(s),children:[(0,a.jsx)(A,{className:"h-4 w-4 mr-2"}),"Sort by Due Date"]}),(0,a.jsxs)(ei.rI,{children:[(0,a.jsx)(ei.ty,{asChild:!0,children:(0,a.jsxs)(T.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(C,{className:"h-4 w-4 mr-2"}),"Download Report"]})}),(0,a.jsxs)(ei.SQ,{children:[(0,a.jsx)(ei._2,{onClick:()=>eS(s,t),children:"Download as PDF"}),(0,a.jsx)(ei._2,{onClick:()=>eT(s,t),children:"Download as CSV"})]})]}),"hr"!==s&&(0,a.jsxs)(T.$,{onClick:()=>{var e;return null===(e=document.getElementById("new-task-form"))||void 0===e?void 0:e.scrollIntoView()},children:[(0,a.jsx)(h,{className:"h-4 w-4 mr-2"}),"New Task"]})]})]}),q?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[(0,a.jsx)(S.A,{className:"h-10 w-10 animate-spin text-primary mb-4"}),(0,a.jsxs)("p",{className:"text-muted-foreground text-lg",children:["Loading ",t," data..."]}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mt-1",children:"Please wait while we fetch your information."})]}):"hr"===s?(0,a.jsx)(em,{leaves:n,updateLeaveStatus:ey,getStatusColor:eN,openStatusDialog:eg}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:n&&n.length>0?n.map(e=>(0,a.jsx)(ed,{task:e,calculateDaysDifference:ev,getStatusColor:eN,getPriorityBadge:eb,onEdit:()=>{U({...e,tab:e.sourceTab}),H(!0)},onDelete:()=>{Z({id:e.id,tab:e.sourceTab}),J(!0)},onComplete:()=>ej(e.sourceTab,e.id)},e.id)):(0,a.jsxs)("div",{className:"col-span-full flex flex-col items-center justify-center p-12 text-center",children:[(0,a.jsxs)("div",{className:"rounded-full bg-muted p-6 mb-4",children:[ek(s)," "]}),(0,a.jsxs)("h3",{className:"text-xl font-medium mb-2",children:["No ",t," tasks found"]}),(0,a.jsxs)("p",{className:"text-muted-foreground mb-4 max-w-md",children:["There are currently no tasks in the ",t," section. Get started by creating a new task."]}),(0,a.jsxs)(T.$,{onClick:()=>{var e;return null===(e=document.getElementById("new-task-form"))||void 0===e?void 0:e.scrollIntoView()},children:[(0,a.jsx)(h,{className:"h-4 w-4 mr-2"}),"Add Task"]})]})}),(0,a.jsxs)("div",{className:"mt-8",id:"new-task-form",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Add New Task"}),(0,a.jsx)(ec,{tabKey:"results",addTask:eh})," "]})]})]},s)})]})})]}),(0,a.jsx)(el.lG,{open:_,onOpenChange:H,children:(0,a.jsxs)(el.Cf,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(el.c7,{children:[(0,a.jsx)(el.L3,{children:"Edit Task"}),(0,a.jsx)(el.rr,{children:"Make changes to your task here. Click save when you're done."})]}),O&&(0,a.jsx)(eo,{task:O,onSave:e=>ep(O.tab,e),onCancel:()=>H(!1)})]})}),(0,a.jsx)(er.Lt,{open:B,onOpenChange:J,children:(0,a.jsxs)(er.EO,{children:[(0,a.jsxs)(er.wd,{children:[(0,a.jsx)(er.r7,{children:"Are you absolutely sure?"}),(0,a.jsx)(er.$v,{children:"This action cannot be undone. This will permanently delete your task and remove your data from our servers."})]}),(0,a.jsxs)(er.ck,{children:[(0,a.jsx)(er.Zr,{children:"Cancel"}),(0,a.jsx)(er.Rx,{onClick:()=>ef($.tab,$.id),children:"Continue"})]})]})}),(0,a.jsx)(el.lG,{open:W,onOpenChange:V,children:(0,a.jsxs)(el.Cf,{className:"sm:max-w-[600px]",children:[(0,a.jsxs)(el.c7,{children:[(0,a.jsx)(el.L3,{children:"Task Analytics"}),(0,a.jsx)(el.rr,{children:"Overview of your task completion and progress."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(M.Zp,{children:[(0,a.jsxs)(M.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(M.ZB,{className:"text-sm font-medium",children:"Total Tasks"}),(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(M.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:eD().totalTasks})})]}),(0,a.jsxs)(M.Zp,{children:[(0,a.jsxs)(M.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(M.ZB,{className:"text-sm font-medium",children:"Completed Tasks"}),(0,a.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(M.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:eD().completedTasks})})]}),(0,a.jsxs)(M.Zp,{children:[(0,a.jsxs)(M.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(M.ZB,{className:"text-sm font-medium",children:"Overdue Tasks"}),(0,a.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(M.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:eD().overdueTasks})})]}),(0,a.jsxs)(M.Zp,{children:[(0,a.jsxs)(M.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(M.ZB,{className:"text-sm font-medium",children:"Upcoming Tasks"}),(0,a.jsx)(c.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(M.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:eD().upcomingTasks})})]})]}),(0,a.jsxs)(M.Zp,{children:[(0,a.jsx)(M.aR,{children:(0,a.jsx)(M.ZB,{children:"Completion Rate"})}),(0,a.jsxs)(M.Wu,{children:[(0,a.jsx)(en,{value:eD().completionRate,className:"h-2.5"}),(0,a.jsxs)("div",{className:"text-right text-sm text-muted-foreground mt-2",children:[eD().completionRate,"% Complete"]})]})]}),(0,a.jsxs)(M.Zp,{children:[(0,a.jsx)(M.aR,{children:(0,a.jsx)(M.ZB,{children:"Tasks by Department"})}),(0,a.jsx)(M.Wu,{children:(0,a.jsx)("div",{className:"space-y-2",children:Object.entries((()=>{var e,s;let t={},a=((null===(e=L.results)||void 0===e?void 0:e.length)||0)+((null===(s=L.admin)||void 0===s?void 0:s.length)||0);return a>0&&(t["Administrative Tasks"]=a),["accounts","tasks","compliance","payments"].forEach(e=>{L[e]&&L[e].length>0&&(t[e.charAt(0).toUpperCase()+e.slice(1)]=L[e].length)}),t})()).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,a.jsx)("span",{children:s}),(0,a.jsxs)(R.E,{variant:"secondary",children:[t," tasks"]})]},s)})})})]})]})]})}),(0,a.jsx)(eu,{isOpen:Q,onOpenChange:X,leave:Y,newStatus:es,onConfirm:()=>{Y&&es&&ey(Y.id,es),X(!1),ee(null),et("")}})]})}},85339:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},99474:(e,s,t)=>{"use strict";t.d(s,{T:()=>r});var a=t(95155),n=t(12115),l=t(53999);let r=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n})});r.displayName="Textarea"}},e=>{var s=s=>e(e.s=s);e.O(0,[265,921,71,700,735,441,684,358],()=>s(67109)),_N_E=e.O()}]);